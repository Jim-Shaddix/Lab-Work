<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of TDMS_VERSION_INFO</title>
  <meta name="keywords" content="TDMS_VERSION_INFO">
  <meta name="description" content="TDMS_VERSION_INFO">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../../menu.html tdms_peak_analysis --><!-- ../../menu.html Store_TDMS_Data --><!-- ../menu.html Matlab_readTDMS_package --><!-- menu.html private -->
<h1>TDMS_VERSION_INFO
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>TDMS_VERSION_INFO</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">                   TDMS_VERSION_INFO

   Current Version: 2.5
   Date    : 7/28/2012
   Authors : James Hokanson

   The most notable reason for this change was to make a major bug fix.
   Major only in the sense that it could fail without the user knowing it
   (fail silently), giving the illusion of working. 

   In addition I now allow files that were not closed properly to be read,
   although I only read up to the final segment. This is different from
   the NI drivers which seem to be able to read parts of the final segment
   as well. A warning is shown if this happens. At some point I would like
   to set this as an option (to throw an error or warning) with the
   default being an error. I would also like to mimic the drivers behavior
   of parsing out the information in the last segment.

   BUG FIX: POTENTIALLY SILENT BUG *************** 
   Misinterpreted specification regarding channel data available in a
   segment, specifically the meaning of &quot;Raw data index&quot; having a value of
   0. In some situations it is possible that bug could have failed
   silently (i.e. letting someone thing that the read worked when it
   didn't) but the liklihood of that having happened is VERY small. This
   bug was discovered because of a non-silent failure which caused the
   person's computer to run in a nearly infinite loop.
   Many thanks to Dedric Xu for reporting the problem.
   See his post: 22 May 2012

   NOTE 1: This has resulted in NI stating it will update its
   documentation to be more precise (specific). As of the time of this
   version being published it has yet to be updated.
   NOTE 2: Since the specifics on how NI writes the TDMS file are not
   publically available, I can't specify exactly how the bug would have
   failed silently. Failure would have resulted in data from channels
   in certain write cycles being swapped. 


   Current Version: 2.4
   Date    : 10/12/2011
   Authors : James Hokanson
   
       Fixed some bugs and tried to improve documentation. I had been
       holding off on this as I was hoping to release a few more features
       but I decided I need to get these fixes out.

   NON-SILENT ERRORS RELATED TO INTERLEAVED DATA
   ----------------------------------------------
   BUG FIX: Fix variable naming for reading interleaved data. This one was
   an error in copy/paste on my part but caused an error if used.

   BUG FIX: Fixed reading of interleaved booleans and timestamps. I wasn't
   reading the correct number of samples, this also caused an error when
   run.

   BUG FIX: I didn't update a variable that indicated the numeber of
   samples read so an error was being needlessly thrown for interleaved
   data

   SILENT ERRORS: 
   -------------------------
   BUG FIX: Fixed reading of timestamps for dates prior to 1904 when written
   as a channel (not a problem for properties). My guess is almost no one
   would ever use this but it came up in testing.
   
   Current Version: 2.3
   Date    : 7/14/2011
   Authors : James Hokanson

       Fixed a few small bugs and tried to further improve documentation.
       Also allows now for only passing in .tdms_index, for debugging purposes

       BUG FIX: Fixed problem with a check on whether or not all data
       requested was actually returned to the user. Thanks goes to 
       Juha Suomalainen for pointing out the problem.

       BUG FIX: Parsing of objects with / characters in their names was 
       incorrect.  I have generalized the parsing of the objects to allow
       for ' and / characters in the name.  Thanks goes to 
       Craig R. Smith for pointing out the problem.

   Current Version: 2.2
   Date    : 5/17/2011
   Authors : James Hokanson

       - Added GET_INDICES input with enhanced flexibility for only 
        retrieving subsets of the data

       - Changed code to allow faster retrieval of subsets. This is
       accomplished by documenting that start position of each bit of data
       that belongs to a channel. I had originally been hesitant to do
       this as this requires more memory, but using this information
       allows for a significant reduction in the # of required freads and
       fseeks when multiple channels are available

       - Moved all functions that should not be directly called into a 
       subfolder, &quot;tdmsSubfunctions&quot; which needs to be added to the path 
       as well

   Current Version: 2.1
   Date    : 4/29/2011
   Authors : James Hokanson
             assistance by Preston K. Manwaring

       - BUG FIX: The subset parsing was not being handled correctly in
         Version 2.0, should be fixed in this version

   Version: 2.0
   Date    : 4/28/2011
   Authors : James Hokanson
             assistance by Preston K. Manwaring
   Updates :
       - MAJOR UPDATE: Added on the ability to only get a subset of the
       data from channels specified as a start and a length, i.e. if a
       channel has 1 million values you could choose to read the data 10x,
       each time grabbing a new set of 100,000 values for doing whatever
       processing before moving onto the next chunk
       
       This feature is implemented as a option called GET_SUBSET, and
       applies to all objects that are being retrieved.

       This only works for decimated data currently.

       NOTE: To facilitate quick multiple reads, either make a habit of
       defragmenting your TDMS files using Labview, or capture the
       metaStruct output when first processing a file, and pass it back in
       on subsequent runs -&gt; pass in via optional parameter, META_STRUCT

       - NEW FILE: TDMS_readChannelOrGroup
       - NEW FILE: TDMS_dataToGroupChanStruct_v4
       - NEW FILE: TDMS_getStruct
       

   Version: 1.2
   Date    : 3/19/2011
   Author  : James Hokanson
   Updates :
       - BUG FIX: conversion of a timestamp property to value was incorrect 
       I needed a '+' sign instead of a '-' sign
       Thanks goes to Ed Zechmann for pointing out this bug
       
       - Added on function TDMS_dataToGroupChanStruct_v3 which now casts
       objects AND properties to field names in a struct

   -----------------------------------------------------------------------
   Version 1.1
   Author  : James Hokanson
   Updates : 
       - MAJOR BUG FIX: fixed the way unicode strings are handled

       Matlab specifies the # of characters to read for unicode strings
       Labview specifies the # of bytes to read for unicode strings

       Thus one needs to read in the desired # of bytes, and then convert
       those bytes to characters

       http://www.mathworks.com/matlabcentral/newsreader/view_thread/302145

       --------------------
       - BUG FIX: fixed case sensitivity on {'GET_DATA_OPTION','getnone'}
       - BUG FIX: fixed bug with ignoring data retrieval on certain
           objects
       - BUG FIX: fixed skipping bug on timestamp data
       - all structure fields no longer necessary for 
          ignoreSubset or getSubset GET_DATA_OPTIONs
       - added function dataToGroupChanStruct_v2
       - added function TDMS_exampleFunctionCalls

   -----------------------------------------------------------------------
   Version 1.0
   Author: 
       James Hokanson
       University of Pittsburgh
       Graduate Student Researcher
   Date : January 13, 2011</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%                   TDMS_VERSION_INFO</span>
0002 <span class="comment">%</span>
0003 <span class="comment">%   Current Version: 2.5</span>
0004 <span class="comment">%   Date    : 7/28/2012</span>
0005 <span class="comment">%   Authors : James Hokanson</span>
0006 <span class="comment">%</span>
0007 <span class="comment">%   The most notable reason for this change was to make a major bug fix.</span>
0008 <span class="comment">%   Major only in the sense that it could fail without the user knowing it</span>
0009 <span class="comment">%   (fail silently), giving the illusion of working.</span>
0010 <span class="comment">%</span>
0011 <span class="comment">%   In addition I now allow files that were not closed properly to be read,</span>
0012 <span class="comment">%   although I only read up to the final segment. This is different from</span>
0013 <span class="comment">%   the NI drivers which seem to be able to read parts of the final segment</span>
0014 <span class="comment">%   as well. A warning is shown if this happens. At some point I would like</span>
0015 <span class="comment">%   to set this as an option (to throw an error or warning) with the</span>
0016 <span class="comment">%   default being an error. I would also like to mimic the drivers behavior</span>
0017 <span class="comment">%   of parsing out the information in the last segment.</span>
0018 <span class="comment">%</span>
0019 <span class="comment">%   BUG FIX: POTENTIALLY SILENT BUG ***************</span>
0020 <span class="comment">%   Misinterpreted specification regarding channel data available in a</span>
0021 <span class="comment">%   segment, specifically the meaning of &quot;Raw data index&quot; having a value of</span>
0022 <span class="comment">%   0. In some situations it is possible that bug could have failed</span>
0023 <span class="comment">%   silently (i.e. letting someone thing that the read worked when it</span>
0024 <span class="comment">%   didn't) but the liklihood of that having happened is VERY small. This</span>
0025 <span class="comment">%   bug was discovered because of a non-silent failure which caused the</span>
0026 <span class="comment">%   person's computer to run in a nearly infinite loop.</span>
0027 <span class="comment">%   Many thanks to Dedric Xu for reporting the problem.</span>
0028 <span class="comment">%   See his post: 22 May 2012</span>
0029 <span class="comment">%</span>
0030 <span class="comment">%   NOTE 1: This has resulted in NI stating it will update its</span>
0031 <span class="comment">%   documentation to be more precise (specific). As of the time of this</span>
0032 <span class="comment">%   version being published it has yet to be updated.</span>
0033 <span class="comment">%   NOTE 2: Since the specifics on how NI writes the TDMS file are not</span>
0034 <span class="comment">%   publically available, I can't specify exactly how the bug would have</span>
0035 <span class="comment">%   failed silently. Failure would have resulted in data from channels</span>
0036 <span class="comment">%   in certain write cycles being swapped.</span>
0037 <span class="comment">%</span>
0038 <span class="comment">%</span>
0039 <span class="comment">%   Current Version: 2.4</span>
0040 <span class="comment">%   Date    : 10/12/2011</span>
0041 <span class="comment">%   Authors : James Hokanson</span>
0042 <span class="comment">%</span>
0043 <span class="comment">%       Fixed some bugs and tried to improve documentation. I had been</span>
0044 <span class="comment">%       holding off on this as I was hoping to release a few more features</span>
0045 <span class="comment">%       but I decided I need to get these fixes out.</span>
0046 <span class="comment">%</span>
0047 <span class="comment">%   NON-SILENT ERRORS RELATED TO INTERLEAVED DATA</span>
0048 <span class="comment">%   ----------------------------------------------</span>
0049 <span class="comment">%   BUG FIX: Fix variable naming for reading interleaved data. This one was</span>
0050 <span class="comment">%   an error in copy/paste on my part but caused an error if used.</span>
0051 <span class="comment">%</span>
0052 <span class="comment">%   BUG FIX: Fixed reading of interleaved booleans and timestamps. I wasn't</span>
0053 <span class="comment">%   reading the correct number of samples, this also caused an error when</span>
0054 <span class="comment">%   run.</span>
0055 <span class="comment">%</span>
0056 <span class="comment">%   BUG FIX: I didn't update a variable that indicated the numeber of</span>
0057 <span class="comment">%   samples read so an error was being needlessly thrown for interleaved</span>
0058 <span class="comment">%   data</span>
0059 <span class="comment">%</span>
0060 <span class="comment">%   SILENT ERRORS:</span>
0061 <span class="comment">%   -------------------------</span>
0062 <span class="comment">%   BUG FIX: Fixed reading of timestamps for dates prior to 1904 when written</span>
0063 <span class="comment">%   as a channel (not a problem for properties). My guess is almost no one</span>
0064 <span class="comment">%   would ever use this but it came up in testing.</span>
0065 <span class="comment">%</span>
0066 <span class="comment">%   Current Version: 2.3</span>
0067 <span class="comment">%   Date    : 7/14/2011</span>
0068 <span class="comment">%   Authors : James Hokanson</span>
0069 <span class="comment">%</span>
0070 <span class="comment">%       Fixed a few small bugs and tried to further improve documentation.</span>
0071 <span class="comment">%       Also allows now for only passing in .tdms_index, for debugging purposes</span>
0072 <span class="comment">%</span>
0073 <span class="comment">%       BUG FIX: Fixed problem with a check on whether or not all data</span>
0074 <span class="comment">%       requested was actually returned to the user. Thanks goes to</span>
0075 <span class="comment">%       Juha Suomalainen for pointing out the problem.</span>
0076 <span class="comment">%</span>
0077 <span class="comment">%       BUG FIX: Parsing of objects with / characters in their names was</span>
0078 <span class="comment">%       incorrect.  I have generalized the parsing of the objects to allow</span>
0079 <span class="comment">%       for ' and / characters in the name.  Thanks goes to</span>
0080 <span class="comment">%       Craig R. Smith for pointing out the problem.</span>
0081 <span class="comment">%</span>
0082 <span class="comment">%   Current Version: 2.2</span>
0083 <span class="comment">%   Date    : 5/17/2011</span>
0084 <span class="comment">%   Authors : James Hokanson</span>
0085 <span class="comment">%</span>
0086 <span class="comment">%       - Added GET_INDICES input with enhanced flexibility for only</span>
0087 <span class="comment">%        retrieving subsets of the data</span>
0088 <span class="comment">%</span>
0089 <span class="comment">%       - Changed code to allow faster retrieval of subsets. This is</span>
0090 <span class="comment">%       accomplished by documenting that start position of each bit of data</span>
0091 <span class="comment">%       that belongs to a channel. I had originally been hesitant to do</span>
0092 <span class="comment">%       this as this requires more memory, but using this information</span>
0093 <span class="comment">%       allows for a significant reduction in the # of required freads and</span>
0094 <span class="comment">%       fseeks when multiple channels are available</span>
0095 <span class="comment">%</span>
0096 <span class="comment">%       - Moved all functions that should not be directly called into a</span>
0097 <span class="comment">%       subfolder, &quot;tdmsSubfunctions&quot; which needs to be added to the path</span>
0098 <span class="comment">%       as well</span>
0099 <span class="comment">%</span>
0100 <span class="comment">%   Current Version: 2.1</span>
0101 <span class="comment">%   Date    : 4/29/2011</span>
0102 <span class="comment">%   Authors : James Hokanson</span>
0103 <span class="comment">%             assistance by Preston K. Manwaring</span>
0104 <span class="comment">%</span>
0105 <span class="comment">%       - BUG FIX: The subset parsing was not being handled correctly in</span>
0106 <span class="comment">%         Version 2.0, should be fixed in this version</span>
0107 <span class="comment">%</span>
0108 <span class="comment">%   Version: 2.0</span>
0109 <span class="comment">%   Date    : 4/28/2011</span>
0110 <span class="comment">%   Authors : James Hokanson</span>
0111 <span class="comment">%             assistance by Preston K. Manwaring</span>
0112 <span class="comment">%   Updates :</span>
0113 <span class="comment">%       - MAJOR UPDATE: Added on the ability to only get a subset of the</span>
0114 <span class="comment">%       data from channels specified as a start and a length, i.e. if a</span>
0115 <span class="comment">%       channel has 1 million values you could choose to read the data 10x,</span>
0116 <span class="comment">%       each time grabbing a new set of 100,000 values for doing whatever</span>
0117 <span class="comment">%       processing before moving onto the next chunk</span>
0118 <span class="comment">%</span>
0119 <span class="comment">%       This feature is implemented as a option called GET_SUBSET, and</span>
0120 <span class="comment">%       applies to all objects that are being retrieved.</span>
0121 <span class="comment">%</span>
0122 <span class="comment">%       This only works for decimated data currently.</span>
0123 <span class="comment">%</span>
0124 <span class="comment">%       NOTE: To facilitate quick multiple reads, either make a habit of</span>
0125 <span class="comment">%       defragmenting your TDMS files using Labview, or capture the</span>
0126 <span class="comment">%       metaStruct output when first processing a file, and pass it back in</span>
0127 <span class="comment">%       on subsequent runs -&gt; pass in via optional parameter, META_STRUCT</span>
0128 <span class="comment">%</span>
0129 <span class="comment">%       - NEW FILE: TDMS_readChannelOrGroup</span>
0130 <span class="comment">%       - NEW FILE: TDMS_dataToGroupChanStruct_v4</span>
0131 <span class="comment">%       - NEW FILE: TDMS_getStruct</span>
0132 <span class="comment">%</span>
0133 <span class="comment">%</span>
0134 <span class="comment">%   Version: 1.2</span>
0135 <span class="comment">%   Date    : 3/19/2011</span>
0136 <span class="comment">%   Author  : James Hokanson</span>
0137 <span class="comment">%   Updates :</span>
0138 <span class="comment">%       - BUG FIX: conversion of a timestamp property to value was incorrect</span>
0139 <span class="comment">%       I needed a '+' sign instead of a '-' sign</span>
0140 <span class="comment">%       Thanks goes to Ed Zechmann for pointing out this bug</span>
0141 <span class="comment">%</span>
0142 <span class="comment">%       - Added on function TDMS_dataToGroupChanStruct_v3 which now casts</span>
0143 <span class="comment">%       objects AND properties to field names in a struct</span>
0144 <span class="comment">%</span>
0145 <span class="comment">%   -----------------------------------------------------------------------</span>
0146 <span class="comment">%   Version 1.1</span>
0147 <span class="comment">%   Author  : James Hokanson</span>
0148 <span class="comment">%   Updates :</span>
0149 <span class="comment">%       - MAJOR BUG FIX: fixed the way unicode strings are handled</span>
0150 <span class="comment">%</span>
0151 <span class="comment">%       Matlab specifies the # of characters to read for unicode strings</span>
0152 <span class="comment">%       Labview specifies the # of bytes to read for unicode strings</span>
0153 <span class="comment">%</span>
0154 <span class="comment">%       Thus one needs to read in the desired # of bytes, and then convert</span>
0155 <span class="comment">%       those bytes to characters</span>
0156 <span class="comment">%</span>
0157 <span class="comment">%       http://www.mathworks.com/matlabcentral/newsreader/view_thread/302145</span>
0158 <span class="comment">%</span>
0159 <span class="comment">%       --------------------</span>
0160 <span class="comment">%       - BUG FIX: fixed case sensitivity on {'GET_DATA_OPTION','getnone'}</span>
0161 <span class="comment">%       - BUG FIX: fixed bug with ignoring data retrieval on certain</span>
0162 <span class="comment">%           objects</span>
0163 <span class="comment">%       - BUG FIX: fixed skipping bug on timestamp data</span>
0164 <span class="comment">%       - all structure fields no longer necessary for</span>
0165 <span class="comment">%          ignoreSubset or getSubset GET_DATA_OPTIONs</span>
0166 <span class="comment">%       - added function dataToGroupChanStruct_v2</span>
0167 <span class="comment">%       - added function TDMS_exampleFunctionCalls</span>
0168 <span class="comment">%</span>
0169 <span class="comment">%   -----------------------------------------------------------------------</span>
0170 <span class="comment">%   Version 1.0</span>
0171 <span class="comment">%   Author:</span>
0172 <span class="comment">%       James Hokanson</span>
0173 <span class="comment">%       University of Pittsburgh</span>
0174 <span class="comment">%       Graduate Student Researcher</span>
0175 <span class="comment">%   Date : January 13, 2011</span></pre></div>
<hr><address>Generated on Sun 19-Aug-2018 19:01:02 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>