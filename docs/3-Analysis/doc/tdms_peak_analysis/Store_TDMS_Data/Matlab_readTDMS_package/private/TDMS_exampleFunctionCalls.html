<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of TDMS_exampleFunctionCalls</title>
  <meta name="keywords" content="TDMS_exampleFunctionCalls">
  <meta name="description" content="The following is some example code of calls that can be made">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../../menu.html tdms_peak_analysis --><!-- ../../menu.html Store_TDMS_Data --><!-- ../menu.html Matlab_readTDMS_package --><!-- menu.html private -->
<h1>TDMS_exampleFunctionCalls
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>The following is some example code of calls that can be made</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">The following is some example code of calls that can be made</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_dataToGroupChanStruct_v1.html" class="code" title="function output = TDMS_dataToGroupChanStruct_v1(inputStruct,varargin)">TDMS_dataToGroupChanStruct_v1</a>	TDMS_dataToGroupChanStruct_v1</li><li><a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_dataToGroupChanStruct_v2.html" class="code" title="function [outputStruct,navigator] = TDMS_dataToGroupChanStruct_v2(inputStruct,varargin)">TDMS_dataToGroupChanStruct_v2</a>	TDMS_dataToGroupChanStruct_v2  Converts output into tiered structure</li><li><a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_readTDMSFile.html" class="code" title="function [finalOutput,metaStruct] = TDMS_readTDMSFile(tdmsFileName,varargin)">TDMS_readTDMSFile</a>	TDMS_readTDMSFile  Reads TDMS file and does minimal processing to obtain output</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%The following is some example code of calls that can be made</span>
0002 
0003 MY_TEST_FILE_PATH = <span class="string">''</span>;
0004 testDirectory = <span class="string">''</span>;
0005 saveDirectory = <span class="string">''</span>;
0006 
0007 
0008 <span class="comment">%% 1) Batch functionality - get all TDMS files in a directory and save the</span>
0009 <span class="comment">%processed versions to another directory</span>
0010 <span class="comment">%==========================================================================</span>
0011 fileStruct    = dir(fullfile(testDirectory,<span class="string">'*.tdms'</span>));
0012 fileNames     = {fileStruct.name};
0013 
0014 nFiles       = length(fileNames);
0015 successFlags = true(1,nFiles);
0016 meCA         = cell(1,nFiles);
0017 <span class="keyword">for</span> iFile = 1:nFiles
0018    <span class="keyword">try</span>
0019        temp          = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_readTDMSFile.html" class="code" title="function [finalOutput,metaStruct] = TDMS_readTDMSFile(tdmsFileName,varargin)">TDMS_readTDMSFile</a>(fullfile(testDirectory,fileNames{iFile}));
0020        [output,nav]  = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_dataToGroupChanStruct_v2.html" class="code" title="function [outputStruct,navigator] = TDMS_dataToGroupChanStruct_v2(inputStruct,varargin)">TDMS_dataToGroupChanStruct_v2</a>(tempOutput); <span class="comment">%#ok&lt;*NASGU,*ASGLU&gt;</span>
0021        [~,nameClean] = fileparts(fileNames{iFile});
0022        save(fullfile(saveDirectory,nameClean),<span class="string">'output'</span>,<span class="string">'nav'</span>)
0023    <span class="keyword">catch</span> ME
0024        meCA{iFile} = ME;
0025        successFlags(iFile) = false;
0026    <span class="keyword">end</span>
0027 <span class="keyword">end</span>
0028 
0029 allPassed = all(successFlags);
0030 
0031 <span class="comment">%% 2) Requesting of limited data - retrieve no data (does return properties)</span>
0032 <span class="comment">%==========================================================================</span>
0033 filePath = MY_TEST_FILE_PATH;
0034 
0035 params = {<span class="string">'GET_DATA_OPTION'</span>,<span class="string">'getnone'</span>};
0036 tempOutput = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_readTDMSFile.html" class="code" title="function [finalOutput,metaStruct] = TDMS_readTDMSFile(tdmsFileName,varargin)">TDMS_readTDMSFile</a>(filePath,params{:});
0037 [output,nav] = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_dataToGroupChanStruct_v2.html" class="code" title="function [outputStruct,navigator] = TDMS_dataToGroupChanStruct_v2(inputStruct,varargin)">TDMS_dataToGroupChanStruct_v2</a>(tempOutput);
0038 <span class="comment">%NOTE: In this case nav might be the most interesting</span>
0039 
0040 <span class="comment">%% 3) Requesting of limited data - get a subset of data</span>
0041 <span class="comment">%==========================================================================</span>
0042 filePath = MY_TEST_FILE_PATH;
0043 
0044 params = {<span class="string">'GET_DATA_OPTION'</span>,<span class="string">'getSubset'</span>,<span class="string">'OBJECTS_GET'</span>,<span class="keyword">...</span>
0045     struct(<span class="string">'groupsKeep'</span>,{{<span class="string">'Marker 0'</span> <span class="string">'Marker 1'</span>}})};
0046 <span class="comment">%NOTE: Make sure to double the {} so as to not make the structure be a</span>
0047 <span class="comment">%structure array</span>
0048 tempOutput = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_readTDMSFile.html" class="code" title="function [finalOutput,metaStruct] = TDMS_readTDMSFile(tdmsFileName,varargin)">TDMS_readTDMSFile</a>(filePath,params{:});
0049 [output,nav] = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_dataToGroupChanStruct_v2.html" class="code" title="function [outputStruct,navigator] = TDMS_dataToGroupChanStruct_v2(inputStruct,varargin)">TDMS_dataToGroupChanStruct_v2</a>(tempOutput);
0050 <span class="comment">%NOTE: In this case nav might be the most interesting</span>
0051 
0052 <span class="comment">%% 4) Requesting of limited data - ignore a subset of data</span>
0053 <span class="comment">%==========================================================================</span>
0054 filePath = MY_TEST_FILE_PATH;
0055 
0056 params = {<span class="string">'GET_DATA_OPTION'</span>,<span class="string">'ignoreSubset'</span>,<span class="string">'OBJECTS_IGNORE'</span>,<span class="keyword">...</span>
0057     struct(<span class="string">'groupsIgnore'</span>,{{<span class="string">'Marker 0'</span> <span class="string">'Marker 1'</span>}})};
0058 <span class="comment">%NOTE: Make sure to double the {} so as to not make the structure be a</span>
0059 <span class="comment">%structure array</span>
0060 tempOutput = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_readTDMSFile.html" class="code" title="function [finalOutput,metaStruct] = TDMS_readTDMSFile(tdmsFileName,varargin)">TDMS_readTDMSFile</a>(filePath,params{:});
0061 output = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_dataToGroupChanStruct_v1.html" class="code" title="function output = TDMS_dataToGroupChanStruct_v1(inputStruct,varargin)">TDMS_dataToGroupChanStruct_v1</a>(tempOutput);
0062 
0063 <span class="comment">%% 5) Use of other input paramters</span>
0064 <span class="comment">%==========================================================================</span>
0065 filePath = MY_TEST_FILE_PATH;
0066 
0067 params = {<span class="keyword">...</span>
0068     <span class="string">'UTC_DIFF'</span>  -6  <span class="keyword">...</span><span class="comment">%Refer timestamps to U.S. Central Time (UTC - 6)</span>
0069     <span class="string">'USE_INDEX'</span> false <span class="keyword">...</span><span class="comment"> %index may be corrupted, use tdms file, not tdms_index</span>
0070     <span class="string">'MAX_NUM_OBJECTS'</span> 1100 <span class="keyword">...</span><span class="comment"> %We have about 1000 objects, +100 for padding</span>
0071     <span class="string">'DATE_STR_FORMAT'</span> <span class="string">'dd-mmm-yyyy'</span> <span class="keyword">...</span><span class="comment"> %Only return data info for properties</span>
0072     <span class="comment">%NOTE: timestamp data is returned in such a format that datestr() works</span>
0073     <span class="comment">%on it</span>
0074     };
0075 tempOutput = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_readTDMSFile.html" class="code" title="function [finalOutput,metaStruct] = TDMS_readTDMSFile(tdmsFileName,varargin)">TDMS_readTDMSFile</a>(filePath,params{:});
0076 output = <a href="../../../../tdms_peak_analysis/Store_TDMS_Data/Matlab_readTDMS_package/TDMS_dataToGroupChanStruct_v1.html" class="code" title="function output = TDMS_dataToGroupChanStruct_v1(inputStruct,varargin)">TDMS_dataToGroupChanStruct_v1</a>(tempOutput);</pre></div>
<hr><address>Generated on Sun 19-Aug-2018 19:01:02 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>