<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of Track_Peaks_Interval</title>
  <meta name="keywords" content="Track_Peaks_Interval">
  <meta name="description" content="PICK_PEAK_INTERVAL: This method tracks a particular peak, by constructing">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../menu.html tdms_peak_analysis --><!-- ../menu.html Peaks --><!-- menu.html Peak_Tracking -->
<h1>Track_Peaks_Interval
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>PICK_PEAK_INTERVAL: This method tracks a particular peak, by constructing</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function [cell_peaks_of_interest, cell_interval] = Track_Peaks_Interval(cell_peaks,freq_track,interval_size) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">PICK_PEAK_INTERVAL: This method tracks a particular peak, by constructing
 an interval about the x-coordinate where a peak occurs, and than
 capturing the peaks corresponding to the next file that fall inside that
 interval. The center of the interval is set to the new peak that is
 found.

 RETURNS: a cell array of all of the peaks of interest.
 PARAMETERS: * cell_peaks: [cell array] each element contains all of the 
                           peak structs associated with a file.
             * freq_track: The frequency to begin tracking.
             * interval_size: the size of the interval that is used for 
                              tracking peaks.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="Track_Peaks.html" class="code" title="function peaks_of_interest = Get_Peaks_Near_Freq(tdms_data_all, peak_str, freq_ref, interval_size, discrim_method)">Track_Peaks</a>	GET_PEAKS_NEAR_FREQ: tracks a particular peak across multiple files, and</li><li><a href="../../../tdms_peak_analysis/main.html" class="code" title="">main</a>	</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [cell_peaks_of_interest, cell_interval] = Track_Peaks_Interval(cell_peaks,freq_track,interval_size)</a>
0002 <span class="comment">%PICK_PEAK_INTERVAL: This method tracks a particular peak, by constructing</span>
0003 <span class="comment">% an interval about the x-coordinate where a peak occurs, and than</span>
0004 <span class="comment">% capturing the peaks corresponding to the next file that fall inside that</span>
0005 <span class="comment">% interval. The center of the interval is set to the new peak that is</span>
0006 <span class="comment">% found.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% RETURNS: a cell array of all of the peaks of interest.</span>
0009 <span class="comment">% PARAMETERS: * cell_peaks: [cell array] each element contains all of the</span>
0010 <span class="comment">%                           peak structs associated with a file.</span>
0011 <span class="comment">%             * freq_track: The frequency to begin tracking.</span>
0012 <span class="comment">%             * interval_size: the size of the interval that is used for</span>
0013 <span class="comment">%                              tracking peaks.</span>
0014 
0015     <span class="comment">% ALLOCATE: indices in the peaks, that</span>
0016     cell_peaks_of_interest = cell(1,length(cell_peaks));
0017     cell_interval          = cell(1,length(cell_peaks));
0018     
0019     <span class="comment">% refferernce frequency, gets updated for each loop iteration</span>
0020     freq_ref = freq_track;
0021     
0022     <span class="keyword">for</span> i = 1:length(cell_peaks)
0023         
0024         <span class="comment">% GET: Peaks</span>
0025         peaks = cell_peaks{i};
0026                 
0027         <span class="comment">% SET: interval</span>
0028         mmin = freq_ref-interval_size/2;
0029         mmax = freq_ref+interval_size/2;
0030         cell_interval{i} = [mmin,mmax];
0031         
0032         <span class="comment">% GET: peaks in interval</span>
0033         peaks_in_interval = peaks( mmin &lt; [peaks.Frequencies] &amp; <span class="keyword">...</span>
0034                                    mmax &gt; [peaks.Frequencies] );
0035         
0036         <span class="comment">% SET: cell_peaks_of_interest</span>
0037         [~,max_index] = max([peaks_in_interval.mag]);
0038         cell_peaks_of_interest{i} = peaks_in_interval(max_index);             
0039         
0040         <span class="comment">% UPDATE: frequency refference</span>
0041         <span class="keyword">if</span> isempty(peaks_in_interval) == 0
0042             freq_ref = cell_peaks_of_interest{i}.Frequencies;
0043         <span class="keyword">end</span>
0044    
0045     <span class="keyword">end</span>
0046 
0047 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Sun 19-Aug-2018 19:01:02 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>