<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of main</title>
  <meta name="keywords" content="main">
  <meta name="description" content="">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html tdms_peak_analysis -->
<h1>main
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong></strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="../tdms_peak_analysis/Data_Manipulation/Plot_Data_Manipulation/Process_Plot_Data.html" class="code" title="function data = Process_Plot_Data(data)">Process_Plot_Data</a>	Process_Plot_Data: returns the processed data to that can be used for:</li><li><a href="Get_Plot_Struct.html" class="code" title="function plot_struct = Get_Plot_Struct()">Get_Plot_Struct</a>	GET_PLOT_STRUCT: This struct contains all of the possible options for</li><li><a href="../tdms_peak_analysis/Peaks/Peak_Tracking/Track_Peaks_Interval.html" class="code" title="function [cell_peaks_of_interest, cell_interval] = Track_Peaks_Interval(cell_peaks,freq_track,interval_size)">Track_Peaks_Interval</a>	PICK_PEAK_INTERVAL: This method tracks a particular peak, by constructing</li><li><a href="../tdms_peak_analysis/Plots/Multiple/Sub_Plots.html" class="code" title="function Sub_Plots(tdms_data)">Sub_Plots</a>	This function plots data from the tdms files, based on flags that</li><li><a href="Process_Data.html" class="code" title="function tdms_data = Process_Data(tdms_data, plot_info_struct)">Process_Data</a>	this function sets all of the fields specified by plot_info</li><li><a href="../tdms_peak_analysis/Store_TDMS_Data/TDMS_Load.html" class="code" title="function tdms_data=TDMS_Load(path_to_files)">TDMS_Load</a>	1. Reads directory (path_to_files) for filenames and</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 clear
0002 clc
0003 
0004 <span class="comment">%% Initialization</span>
0005 <span class="comment">% These settings initialize the program, and our subject to change.</span>
0006 
0007 <span class="comment">% SET: paths</span>
0008 addpath(genpath(<span class="string">'Store_TDMS_Data'</span>)); <span class="comment">% for reading tdms files</span>
0009 addpath(genpath(<span class="string">'Fits'</span>));            <span class="comment">% for fitting Lorentzian to data</span>
0010 addpath(genpath(<span class="string">'Plots'</span>));           <span class="comment">% for plotting data</span>
0011 addpath(genpath(<span class="string">'Peaks'</span>));       <span class="comment">% for setting peak values</span>
0012 addpath(genpath(<span class="string">'Data_Manipulation'</span>)); <span class="comment">% for reading tdms files</span>
0013 addpath(genpath(<span class="string">'GUI'</span>));
0014 
0015 <span class="comment">% SET: file paths</span>
0016 direc = <span class="string">'../../2-Files_To_Analyze/'</span>;
0017 f1 = <span class="string">'31 May 18 TaV2'</span>;
0018 f2 = <span class="string">'15 May 18 BalrO3/'</span>;
0019 f3 = <span class="string">'CoNb2O6 061218/'</span>;
0020 f4 = <span class="string">'More CoNb206/'</span>;
0021    
0022 path_to_tdms_files = [direc, f1];
0023 
0024 clear f1 f2 f3 f4 dir direc
0025 
0026 <span class="comment">%% Read In Data</span>
0027 
0028 <span class="comment">% STORE: data from tdms files</span>
0029 tdms_data = <a href="../tdms_peak_analysis/Store_TDMS_Data/TDMS_Load.html" class="code" title="function tdms_data=TDMS_Load(path_to_files)">TDMS_Load</a>(path_to_tdms_files);
0030 fprintf(<span class="string">' --- Finished: Reading Data ---\n\n'</span>)
0031 
0032 <span class="comment">%% Set Struct</span>
0033 <span class="comment">%tdms_data = tdms_data([14,25]);</span>
0034 
0035 <span class="comment">% GET: plot info</span>
0036 plot_info = <a href="Get_Plot_Struct.html" class="code" title="function plot_struct = Get_Plot_Struct()">Get_Plot_Struct</a>();
0037 
0038 <span class="comment">% MODIFY: plot info</span>
0039 plot_info.preprocess = {@<a href="../tdms_peak_analysis/Data_Manipulation/Plot_Data_Manipulation/Process_Plot_Data.html" class="code" title="function data = Process_Plot_Data(data)">Process_Plot_Data</a>};
0040 plot_info.raw  = 1;
0041 plot_info.mag  = 1;
0042 <span class="comment">%plot_info.plot_width = 1;</span>
0043 <span class="comment">%plot_info.peaks_raw_given = [1,1];</span>
0044 plot_info.peaks_mag_given = [1,1];
0045 plot_info.peaks_raw_set   = [1,1];
0046 <span class="comment">%plot_info.peaks_mag_set   = [1,1];</span>
0047 <span class="comment">%plot_info.peaks_tracked = 1;</span>
0048 
0049 <span class="comment">% SET: plot info</span>
0050 [tdms_data.plot_info] = deal(plot_info);
0051 
0052 disp(&quot; -- Finished Setting Plot Struct ---&quot;)
0053 clear plot_info
0054 
0055 <span class="comment">%% Process The Data</span>
0056 tdms_data = <a href="Process_Data.html" class="code" title="function tdms_data = Process_Data(tdms_data, plot_info_struct)">Process_Data</a>(tdms_data);
0057 fprintf(&quot; --- Finished processing data --- \n\n&quot;)
0058 
0059 <span class="comment">%% Track Peaks</span>
0060 
0061 <span class="comment">% Get: tracked peaks, and the intervals used to find them.</span>
0062 <span class="comment">%freq_ref = 8.812 *10^5;</span>
0063 peak_str = <span class="string">'peaks_mag_given'</span>;
0064 interval_size   = 1.5*10^4;
0065 
0066 [peaks_tracked,cell_intervals] = <a href="../tdms_peak_analysis/Peaks/Peak_Tracking/Track_Peaks_Interval.html" class="code" title="function [cell_peaks_of_interest, cell_interval] = Track_Peaks_Interval(cell_peaks,freq_track,interval_size)">Track_Peaks_Interval</a>( <span class="keyword">...</span>
0067                                     {tdms_data.(peak_str)}, <span class="keyword">...</span>
0068                                     tdms_data(1).plot_info.track_freq, <span class="keyword">...</span>
0069                                     tdms_data(1).plot_info.track_interval);
0070 
0071 [tdms_data.peaks_tracked] = deal(peaks_tracked{:});
0072 
0073 clear peaks_tracked
0074 disp(&quot; --- Finished Tracking Peaks ---&quot;)
0075 
0076 <span class="comment">%% Plot</span>
0077 <span class="comment">%</span>
0078 <span class="comment">% |MONOSPACED TEXT Interesting stuff.... I guess|</span>
0079 <span class="comment">% $x^2+e^{\pi i}$</span>
0080 <span class="comment">% &lt;http://www.mathworks.com MathWorks&gt;</span>
0081 <a href="../tdms_peak_analysis/Plots/Multiple/Sub_Plots.html" class="code" title="function Sub_Plots(tdms_data)">Sub_Plots</a>(tdms_data);
0082 
0083 disp(&quot; --- Finished: Plotting ---&quot;)
0084 
0085 <span class="comment">%% Peak Analysis</span>
0086 
0087 Peak_Analyzer(tdms_data);
0088 
0089 clear freq_ref peak_str peaks_of_interest peak_temps
0090 disp(&quot;Finished Analyzing Peaks&quot;)
0091 
0092 <span class="comment">%% FINISHED</span>
0093 disp(&quot;[Finished Script]&quot;)</pre></div>
<hr><address>Generated on Sun 19-Aug-2018 19:01:02 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>